{"version":3,"sources":["components/Home/index.tsx","services/vote-storage.ts","components/Guardrians/index.tsx","components/Stakeholders/index.tsx","components/Main/index.tsx","components/Header/index.tsx","components/Sidebar/index.tsx","services/metamask.ts","services/contracts.ts","components/App/App.tsx","index.tsx","contracts-info.js"],"names":["Home","react_default","a","createElement","Fragment","index_es","variant","color","noWrap","key","hasLocalStorageAccess","window","localStorage","save","addresses","from","ethereum","selectedAddress","setItem","concat","JSON","stringify","err","get","value","getItem","parse","withStyles","container","padding","_ref","validatorsContract","validatorsRegistryContract","votingContract","metamaskService","classes","_useState","useState","_useState2","Object","slicedToArray","validators","setValidators","getCurrentAddress","fetchValidators","_ref2","asyncToGenerator","regenerator_default","mark","_callee","validatorsInState","validatorsInfo","validatorsInStorage","resultValidators","wrap","_context","prev","next","methods","getValidators","call","sent","Promise","all","map","address","getValidatorData","reduce","acc","currAddress","idx","checked","name","url","forEach","undefined","stop","apply","this","arguments","commitVote","_ref3","_callee2","stagedValidators","_context2","keys","filter","vote","send","useEffect","className","control","defaultChecked","onChange","toggleCheck","label","Link_default","href","target","rel","Button_default","onClick","guardiansContract","candidate","setCandidate","_useState3","_useState4","guardians","setGuardians","fetchGuardians","details","guardiansStateObject","getGuardians","getGuardianData","curr","_","val","data-testid","delegate","theme","content","flexGrow","spacing","unit","toolbar","mixins","Route","exact","path","component","props","Stakeholders","assign","Guardrians","appBar","zIndex","drawer","AppBar_default","position","Toolbar_default","Typography_default","width","flexShrink","drawerPaper","Drawer_default","paper","List_default","ListItem_default","es_Link","to","ListItemText_default","primary","data-hook","MetamaskService","enable","then","reject","web3","Web3","validatorsContractFactory","eth","Contract","validatorsAbiJson","abi","OrbsContractsInfo","validatorsRegistryContractFactory","validatorsRegistryAbiJson","guardiansContractFactory","guardiansAbiJson","votingContractFactory","votingAbiJson","createMuiTheme","palette","type","main","secondary","background","default","typography","useNextVariants","App","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","state","BrowserRouter","basename","process","styles","CssBaseline_default","root","components_Header","components_Sidebar","components_Main","Component","display","ReactDOM","render","components_App_App","document","getElementById","module","exports","OrbsValidatorsRegistry","OrbsValidators","OrbsVoting","OrbsGuardians"],"mappings":"4+psBAaeA,EAVF,WACX,OACEC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYC,QAAQ,KAAKC,MAAM,cAAcC,QAAM,GAAnD,8ECNAC,EAAM,wBAENC,EAAwB,WAC5B,QAASC,OAAOC,cAGLC,EAAO,SAACC,GACnB,IAAMC,EAAOC,SAASC,gBACtB,IAAKP,IACH,OAAO,EAET,IAEE,OADAC,OAAOC,aAAaM,QAApB,GAAAC,OAA+BV,GAA/BU,OAAqCJ,GAAQK,KAAKC,UAAUP,KACrD,EACP,MAAOQ,GACP,OAAO,IAIEC,EAAM,WACjB,IAAMR,EAAOC,SAASC,gBACtB,IAAKP,EACH,MAAO,GAET,IACE,IAAMc,EAAQb,OAAOC,aAAaa,QAApB,GAAAN,OAA+BV,GAA/BU,OAAqCJ,IACnD,OAAIS,EACKJ,KAAKM,MAAMF,GAEX,GAET,MAAOF,GACP,MAAO,KC4FIK,uBA/GA,iBAAO,CACpBC,UAAW,CACTC,QAAS,UA6GEF,CAzGM,SAAAG,GAMf,IALJC,EAKID,EALJC,mBACAC,EAIIF,EAJJE,2BACAC,EAGIH,EAHJG,eACAC,EAEIJ,EAFJI,gBACAC,EACIL,EADJK,QACIC,EACgCC,mBAAS,IADzCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACGK,EADHH,EAAA,GACeI,EADfJ,EAAA,GAKEvB,EAAOmB,EAAgBS,oBAEvBC,EAAe,eAAAC,EAAAN,OAAAO,EAAA,EAAAP,CAAAQ,EAAA7C,EAAA8C,KAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAN,EAAA7C,EAAAoD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACQ1B,EAAmB2B,QAC9CC,gBACAC,KAAK,CAAE7C,SAHY,cAClBmC,EADkBK,EAAAM,KAAAN,EAAAE,KAAA,EAKOK,QAAQC,IACnCb,EAAkBc,IAAI,SAAAC,GAAO,OAC3BjC,EAA2B0B,QACxBQ,iBAAiBD,GACjBL,KAAK,CAAE7C,YATQ,OAKhBoC,EALgBI,EAAAM,KAahBT,EAAsB7B,IAEtB8B,EAAmBH,EAAkBiB,OACzC,SAACC,EAAKC,EAAaC,GAMjB,OALAF,EAAIC,GAAe,CACjBE,SAAS,EACTC,KAAMrB,EAAemB,GAAf,KACNG,IAAKtB,EAAemB,GAAf,SAEAF,GAET,IAGFhB,EAAoBsB,QAAQ,SAAAT,QACQU,IAA9BtB,EAAiBY,KACnBZ,EAAiBY,GAASM,SAAU,KAGxC7B,EAAcW,GAhCQ,yBAAAE,EAAAqB,SAAA3B,MAAH,yBAAAJ,EAAAgC,MAAAC,KAAAC,YAAA,GAmCfC,EAAU,eAAAC,EAAA1C,OAAAO,EAAA,EAAAP,CAAAQ,EAAA7C,EAAA8C,KAAG,SAAAkC,IAAA,IAAAC,EAAA,OAAApC,EAAA7C,EAAAoD,KAAA,SAAA8B,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,cACX0B,EAAmB5C,OAAO8C,KAAK5C,GAAY6C,OAC/C,SAAArB,GAAO,OAAIxB,EAAWwB,GAASM,UAFhBa,EAAA3B,KAAA,EAIXxB,EAAeyB,QAAQ6B,KAAKJ,GAAkBK,KAAK,CAAEzE,SAJ1C,OAKjBF,EAAKsE,GALY,wBAAAC,EAAAR,SAAAM,MAAH,yBAAAD,EAAAJ,MAAAC,KAAAC,YAAA,GAgBhB,OAJAU,oBAAU,WACR7C,KACC,IAGD3C,EAAAC,EAAAC,cAAA,OAAKuF,UAAWvD,EAAQP,WACtB3B,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYC,QAAQ,KAAKC,MAAM,cAAcC,QAAM,GAAnD,sCAGAP,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACGkC,OAAO8C,KAAK5C,IACXF,OAAO8C,KAAK5C,GAAYuB,IAAI,SAAAC,GAAO,OACjChE,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACEI,IAAKwD,EACLzC,MAAOyC,EACP0B,QACE1F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACEmB,MAAOyC,EACP2B,eAAgBnD,EAAWwB,GAASM,QACpCsB,SAAU,kBAxBR,SAAC5B,GACnBxB,EAAWwB,GAASM,SAAW9B,EAAWwB,GAASM,QAuBnBuB,CAAY7B,MAGhC8B,MACE9F,EAAAC,EAAAC,cAAC6F,EAAA9F,EAAD,CACE+F,KAAMxD,EAAWwB,GAASQ,IAC1ByB,OAAO,SACPC,IAAI,sBACJ5F,MAAM,YACND,QAAQ,SAEPmC,EAAWwB,GAASO,WAMjCvE,EAAAC,EAAAC,cAACiG,EAAAlG,EAAD,CAAQmG,QAASrB,EAAY1E,QAAQ,WAAWC,MAAM,aAAtD,YChBOoB,uBAvFA,iBAAO,CACpBC,UAAW,CACTC,QAAS,UAqFEF,CAjFS,SAAAG,GAKlB,IAJJwE,EAIIxE,EAJJwE,kBACArE,EAGIH,EAHJG,eACAC,EAEIJ,EAFJI,gBACAC,EACIL,EADJK,QAEMpB,EAAOmB,EAAgBS,oBADzBP,EAG8BC,mBAAS,IAHvCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAGGmE,EAHHjE,EAAA,GAGckE,EAHdlE,EAAA,GAAAmE,EAI8BpE,mBAAS,IAJvCqE,EAAAnE,OAAAC,EAAA,EAAAD,CAAAkE,EAAA,GAIGE,EAJHD,EAAA,GAIcE,EAJdF,EAAA,GAQEG,EAAc,eAAAhE,EAAAN,OAAAO,EAAA,EAAAP,CAAAQ,EAAA7C,EAAA8C,KAAG,SAAAC,IAAA,IAAAnC,EAAAgG,EAAAC,EAAA,OAAAhE,EAAA7C,EAAAoD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACG6C,EAAkB5C,QACvCsD,aAAa,EAAG,KAChBpD,KAAK,CAAE7C,SAHW,cACfD,EADeyC,EAAAM,KAAAN,EAAAE,KAAA,EAICK,QAAQC,IAC5BjD,EAAUkD,IAAI,SAAAC,GAAO,OACnBqC,EAAkB5C,QAAQuD,gBAAgBhD,GAASL,KAAK,CAAE7C,YANzC,OAIf+F,EAJevD,EAAAM,KASfkD,EAAuBjG,EAAUqD,OAAO,SAACC,EAAK8C,EAAM5C,GAKxD,OAJAF,EAAI8C,GAAQ,CACV1C,KAAMsC,EAAQxC,GAAR,KACNG,IAAKqC,EAAQxC,GAAR,SAEAF,GACN,IACHwC,EAAaG,GAhBQ,wBAAAxD,EAAAqB,SAAA3B,MAAH,yBAAAJ,EAAAgC,MAAAC,KAAAC,YAAA,GAmBpBU,oBAAU,WACRoB,KACC,IAMH,OACE5G,EAAAC,EAAAC,cAAA,OAAKuF,UAAWvD,EAAQP,WACtB3B,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYC,QAAQ,KAAKC,MAAM,cAAcC,QAAM,GAAnD,oDAGAP,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYwF,SAAU,SAACsB,EAAGC,GAAJ,OAAYZ,EAAaY,KAC5C7E,OAAO8C,KAAKsB,IACXpE,OAAO8C,KAAKsB,GAAW3C,IAAI,SAAAC,GAAO,OAChChE,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACEI,IAAKwD,EACLzC,MAAOyC,EACP0B,QAAS1F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOgH,cAAA,YAAAlG,OAAyB8C,EAAzB,YAChB8B,MACE9F,EAAAC,EAAAC,cAAC6F,EAAA9F,EAAD,CACEmH,cAAA,YAAAlG,OAAyB8C,EAAzB,UACAgC,KAAMU,EAAU1C,GAASQ,IACzByB,OAAO,SACPC,IAAI,sBACJ5F,MAAM,YACND,QAAQ,SAEPqG,EAAU1C,GAASO,WAMhCvE,EAAAC,EAAAC,cAACiG,EAAAlG,EAAD,CACEmH,cAAA,kBACAhB,QAlCS,WACfpE,EAAeyB,QAAQ4D,SAASf,GAAWf,KAAK,CAAEzE,UAkC5CT,QAAQ,WACRC,MAAM,aAJR,yBCjCOoB,uBA/CA,SAAA4F,GAAK,MAAK,CACvBC,QAAS,CACPC,SAAU,EACV5F,QAA8B,EAArB0F,EAAMG,QAAQC,MAEzBC,QAASL,EAAMM,OAAOD,UA0CTjG,CAvCF,SAAAG,GAOP,IANJG,EAMIH,EANJG,eACAC,EAKIJ,EALJI,gBACAoE,EAIIxE,EAJJwE,kBACAvE,EAGID,EAHJC,mBACAC,EAEIF,EAFJE,2BACAG,EACIL,EADJK,QAEA,OACElC,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAKuF,UAAWvD,EAAQyF,UACxB3H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWjI,IACjCC,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CACEE,KAAK,eACLC,UAAW,SAACC,GAAD,OACTjI,EAAAC,EAAAC,cAACgI,EAAD5F,OAAA6F,OAAA,GACMF,EADN,CAEEjG,eAAgBA,EAChBC,gBAAiBA,EACjBoE,kBAAmBA,QAIzBrG,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CACEE,KAAK,YACLC,UAAW,SAACC,GAAD,OACTjI,EAAAC,EAAAC,cAACkI,EAAD9F,OAAA6F,OAAA,GACMF,EADN,CAEEnG,mBAAoBA,EACpBC,2BAA4BA,EAC5BC,eAAgBA,EAChBC,gBAAiBA,gECtBdP,uBAlBA,SAAA4F,GAAK,MAAK,CACvBe,OAAQ,CACNC,OAAQhB,EAAMgB,OAAOC,OAAS,KAgBnB7G,CAZA,SAAAG,GAAiB,IAAdK,EAAcL,EAAdK,QAChB,OACElC,EAAAC,EAAAC,cAACsI,EAAAvI,EAAD,CAAQwI,SAAS,QAAQhD,UAAWvD,EAAQmG,QAC1CrI,EAAAC,EAAAC,cAACwI,EAAAzI,EAAD,KACED,EAAAC,EAAAC,cAACyI,EAAA1I,EAAD,CAAYI,QAAQ,KAAKC,MAAM,UAAUC,QAAM,GAA/C,sGCoCOmB,uBA1CA,SAAA4F,GAAK,MAAK,CACvBiB,OAAQ,CACNK,MAJgB,IAKhBC,WAAY,GAEdC,YAAa,CACXF,MARgB,KAUlBjB,QAASL,EAAMM,OAAOD,UAkCTjG,CA/BC,SAAAG,GAAiB,IAAdK,EAAcL,EAAdK,QACjB,OACElC,EAAAC,EAAAC,cAAC6I,EAAA9I,EAAD,CACEwF,UAAWvD,EAAQqG,OACnBlI,QAAQ,YACR6B,QAAS,CACP8G,MAAO9G,EAAQ4G,cAGjB9I,EAAAC,EAAAC,cAAA,OAAKuF,UAAWvD,EAAQyF,UACxB3H,EAAAC,EAAAC,cAAC+I,EAAAhJ,EAAD,KACED,EAAAC,EAAAC,cAACgJ,EAAAjJ,EAAD,KACED,EAAAC,EAAAC,cAACiJ,EAAA,EAAD,CAAMC,GAAG,KACPpJ,EAAAC,EAAAC,cAACmJ,EAAApJ,EAAD,CAAcqJ,QAAQ,WAG1BtJ,EAAAC,EAAAC,cAACgJ,EAAAjJ,EAAD,KACED,EAAAC,EAAAC,cAACiJ,EAAA,EAAD,CAAMC,GAAG,eAAeG,YAAU,mBAChCvJ,EAAAC,EAAAC,cAACmJ,EAAApJ,EAAD,CAAcqJ,QAAQ,kBAG1BtJ,EAAAC,EAAAC,cAACgJ,EAAAjJ,EAAD,KACED,EAAAC,EAAAC,cAACiJ,EAAA,EAAD,CAAMC,GAAG,YAAYG,YAAU,gBAC7BvJ,EAAAC,EAAAC,cAACmJ,EAAApJ,EAAD,CAAcqJ,QAAQ,8CC5CbE,mGAEjB,OAAOzI,SACJ0I,SACAC,KACC,SAAC7I,GAAD,OAAyBA,EAAU,IACnC,SAACQ,GAAD,OAAcwC,QAAQ8F,OAAOtI,iDAIjC,OAAON,SAASC,4FCHd4I,GAAO,IAAIC,IAAK9I,UAET+I,GAA4B,WACvC,OAAO,IAAIF,GAAKG,IAAIC,SAClBC,GAAkBC,IAClBxJ,OAAM,sBACFA,OAAM,sBAAN,uBACAyJ,kBAAiCnG,UAI5BoG,GAAoC,WAC/C,OAAO,IAAIR,GAAKG,IAAIC,SAClBK,GAA0BH,IAC1BxJ,OAAM,sBACFA,OAAM,sBAAN,+BACAyJ,0BAAyCnG,UAIpCsG,GAA2B,WACtC,OAAO,IAAIV,GAAKG,IAAIC,SAClBO,GAAiBL,IACjBxJ,OAAM,sBACFA,OAAM,sBAAN,sBACAyJ,iBAAgCnG,UAI3BwG,GAAwB,WACnC,OAAO,IAAIZ,GAAKG,IAAIC,SAClBS,GAAcP,IACdxJ,OAAM,sBACFA,OAAM,sBAAN,mBACAyJ,cAA6BnG,UCZ/BsD,GAAQoD,yBAAe,CAC3BC,QAAS,CACPC,KAAM,OACNtB,QAAS,CAAEuB,KAAM,WACjBC,UAAW,CAAED,KAAM,WACnBE,WAAY,CACVC,QAAS,UACThC,MAAO,YAGXiC,WAAY,CACVC,iBAAiB,KAUfC,eACJ,SAAAA,EAAYlD,GAAO,IAAAmD,EAAA,OAAA9I,OAAA+I,EAAA,EAAA/I,CAAAuC,KAAAsG,IACjBC,EAAA9I,OAAAgJ,EAAA,EAAAhJ,CAAAuC,KAAAvC,OAAAiJ,EAAA,EAAAjJ,CAAA6I,GAAAxH,KAAAkB,KAAMoD,KACDuD,MAAQ,CACX1J,mBAAoBgI,KACpB/H,2BAA4BqI,KAC5B/D,kBAAmBiE,KACnBtI,eAAgBwI,KAChBvI,gBAAiB,IAAIuH,GAPN4B,2MAWXvG,KAAK2G,MAAMvJ,gBAAgBwH,4IAE1B,IACCvH,EAAY2C,KAAKoD,MAAjB/F,QACR,OACElC,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAQC,SAAUC,WAChB3L,EAAAC,EAAAC,cAAC0L,EAAA,iBAAD,CAAkBtE,MAAOA,IACvBtH,EAAAC,EAAAC,cAAC2L,EAAA5L,EAAD,MACAD,EAAAC,EAAAC,cAAA,OAAKuF,UAAWvD,EAAQ4J,MACtB9L,EAAAC,EAAAC,cAAC6L,EAAD,MACA/L,EAAAC,EAAAC,cAAC8L,EAAD,MACAhM,EAAAC,EAAAC,cAAC+L,EAASpH,KAAK2G,iBAvBTU,aA+BHxK,wBArCA,iBAAO,CACpBoK,KAAM,CACJK,QAAS,UAmCEzK,CAAmByJ,IC5ElCiB,IAASC,OAAOrM,EAAAC,EAAAC,cAACoM,GAAD,MAASC,SAASC,eAAe,2BCLjDC,EAAOC,QAAU,CACfC,uBAAwB,CACtB3I,QAAS,8CAEX4I,eAAgB,CAAE5I,QAAS,8CAC3B6I,WAAY,CAAE7I,QAAS,8CACvB8I,cAAe,CAAE9I,QAAS","file":"static/js/main.6f07a29f.chunk.js","sourcesContent":["import React from 'react';\nimport { Typography } from '@material-ui/core';\n\nconst Home = () => {\n  return (\n    <>\n      <Typography variant=\"h3\" color=\"textPrimary\" noWrap>\n        Welcome to Orbs Voting\n      </Typography>\n    </>\n  );\n};\n\nexport default Home;\n","const key = '_ORBS_VOTING_HISTORY_';\n\nconst hasLocalStorageAccess = () => {\n  return !!window.localStorage;\n};\n\nexport const save = (addresses: string[]): boolean => {\n  const from = ethereum.selectedAddress;\n  if (!hasLocalStorageAccess()) {\n    return false;\n  }\n  try {\n    window.localStorage.setItem(`${key}${from}`, JSON.stringify(addresses));\n    return true;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport const get = (): string[] => {\n  const from = ethereum.selectedAddress;\n  if (!hasLocalStorageAccess) {\n    return [];\n  }\n  try {\n    const value = window.localStorage.getItem(`${key}${from}`);\n    if (value) {\n      return JSON.parse(value);\n    } else {\n      return [];\n    }\n  } catch (err) {\n    return [];\n  }\n};\n","import Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport React, { useEffect, useState } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { get, save } from '../../services/vote-storage';\nimport {\n  Typography,\n  FormControl,\n  FormGroup,\n  Checkbox,\n  FormControlLabel\n} from '@material-ui/core';\n\nconst styles = () => ({\n  container: {\n    padding: '15px'\n  }\n});\n\nconst GuardianPage = ({\n  validatorsContract,\n  validatorsRegistryContract,\n  votingContract,\n  metamaskService,\n  classes\n}) => {\n  const [validators, setValidators] = useState({} as {\n    [address: string]: { checked: boolean; name: string; url: string };\n  });\n\n  const from = metamaskService.getCurrentAddress();\n\n  const fetchValidators = async () => {\n    let validatorsInState = await validatorsContract.methods\n      .getValidators()\n      .call({ from });\n\n    const validatorsInfo = await Promise.all(\n      validatorsInState.map(address =>\n        validatorsRegistryContract.methods\n          .getValidatorData(address)\n          .call({ from })\n      )\n    );\n\n    const validatorsInStorage = get();\n\n    const resultValidators = validatorsInState.reduce(\n      (acc, currAddress, idx) => {\n        acc[currAddress] = {\n          checked: false,\n          name: validatorsInfo[idx]['name'],\n          url: validatorsInfo[idx]['website']\n        };\n        return acc;\n      },\n      {}\n    );\n\n    validatorsInStorage.forEach(address => {\n      if (resultValidators[address] !== undefined) {\n        resultValidators[address].checked = true;\n      }\n    });\n    setValidators(resultValidators);\n  };\n\n  const commitVote = async () => {\n    const stagedValidators = Object.keys(validators).filter(\n      address => validators[address].checked\n    );\n    await votingContract.methods.vote(stagedValidators).send({ from });\n    save(stagedValidators);\n  };\n\n  const toggleCheck = (address: string) => {\n    validators[address].checked = !validators[address].checked;\n  };\n\n  useEffect(() => {\n    fetchValidators();\n  }, []);\n\n  return (\n    <div className={classes.container}>\n      <Typography variant=\"h6\" color=\"textPrimary\" noWrap>\n        Here you can vote for a validators\n      </Typography>\n      <FormControl>\n        <FormGroup>\n          {Object.keys(validators) &&\n            Object.keys(validators).map(address => (\n              <FormControlLabel\n                key={address}\n                value={address}\n                control={\n                  <Checkbox\n                    value={address}\n                    defaultChecked={validators[address].checked}\n                    onChange={() => toggleCheck(address)}\n                  />\n                }\n                label={\n                  <Link\n                    href={validators[address].url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    color=\"secondary\"\n                    variant=\"body1\"\n                  >\n                    {validators[address].name}\n                  </Link>\n                }\n              />\n            ))}\n        </FormGroup>\n        <Button onClick={commitVote} variant=\"outlined\" color=\"secondary\">\n          Vote\n        </Button>\n      </FormControl>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(GuardianPage);\n","import Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport React, { useState, useEffect } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  FormControl,\n  RadioGroup,\n  Radio,\n  FormControlLabel\n} from '@material-ui/core';\nimport { compileFunction } from 'vm';\n\nconst styles = () => ({\n  container: {\n    padding: '15px'\n  }\n});\n\nconst StakeholderPage = ({\n  guardiansContract,\n  votingContract,\n  metamaskService,\n  classes\n}) => {\n  const from = metamaskService.getCurrentAddress();\n\n  const [candidate, setCandidate] = useState('');\n  const [guardians, setGuardians] = useState({} as {\n    [address: string]: { name: string; url: string };\n  });\n\n  const fetchGuardians = async () => {\n    const addresses = await guardiansContract.methods\n      .getGuardians(0, 100)\n      .call({ from });\n    const details = await Promise.all(\n      addresses.map(address =>\n        guardiansContract.methods.getGuardianData(address).call({ from })\n      )\n    );\n    const guardiansStateObject = addresses.reduce((acc, curr, idx) => {\n      acc[curr] = {\n        name: details[idx]['name'],\n        url: details[idx]['website']\n      };\n      return acc;\n    }, {});\n    setGuardians(guardiansStateObject);\n  };\n\n  useEffect(() => {\n    fetchGuardians();\n  }, []);\n\n  const delegate = () => {\n    votingContract.methods.delegate(candidate).send({ from });\n  };\n\n  return (\n    <div className={classes.container}>\n      <Typography variant=\"h6\" color=\"textPrimary\" noWrap>\n        Here you can delegate your vote to somebody else\n      </Typography>\n      <FormControl>\n        <RadioGroup onChange={(_, val) => setCandidate(val)}>\n          {Object.keys(guardians) &&\n            Object.keys(guardians).map(address => (\n              <FormControlLabel\n                key={address}\n                value={address}\n                control={<Radio data-testid={`guardian-${address}-radio`} />}\n                label={\n                  <Link\n                    data-testid={`guardian-${address}-label`}\n                    href={guardians[address].url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    color=\"secondary\"\n                    variant=\"body1\"\n                  >\n                    {guardians[address].name}\n                  </Link>\n                }\n              />\n            ))}\n        </RadioGroup>\n        <Button\n          data-testid={`delegate-button`}\n          onClick={delegate}\n          variant=\"outlined\"\n          color=\"secondary\"\n        >\n          Delegate\n        </Button>\n      </FormControl>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(StakeholderPage);\n","import React from 'react';\nimport Home from '../Home';\nimport GuardianPage from '../Guardrians';\nimport StakeholderPage from '../Stakeholders';\nimport { Route, RouteProps } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing.unit * 3\n  },\n  toolbar: theme.mixins.toolbar\n});\n\nconst Main = ({\n  votingContract,\n  metamaskService,\n  guardiansContract,\n  validatorsContract,\n  validatorsRegistryContract,\n  classes\n}) => {\n  return (\n    <main>\n      <div className={classes.toolbar} />\n      <Route exact path=\"/\" component={Home} />\n      <Route\n        path=\"/stakeholder\"\n        component={(props: RouteProps) => (\n          <StakeholderPage\n            {...props}\n            votingContract={votingContract}\n            metamaskService={metamaskService}\n            guardiansContract={guardiansContract}\n          />\n        )}\n      />\n      <Route\n        path=\"/guardian\"\n        component={(props: RouteProps) => (\n          <GuardianPage\n            {...props}\n            validatorsContract={validatorsContract}\n            validatorsRegistryContract={validatorsRegistryContract}\n            votingContract={votingContract}\n            metamaskService={metamaskService}\n          />\n        )}\n      />\n    </main>\n  );\n};\n\nexport default withStyles(styles)(Main);\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  }\n});\n\nconst Header = ({ classes }) => {\n  return (\n    <AppBar position=\"fixed\" className={classes.appBar}>\n      <Toolbar>\n        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n          Orbs.com Voting\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default withStyles(styles)(Header);\n","import React from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Link } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  toolbar: theme.mixins.toolbar\n});\n\nconst Sidebar = ({ classes }) => {\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"permanent\"\n      classes={{\n        paper: classes.drawerPaper\n      }}\n    >\n      <div className={classes.toolbar} />\n      <List>\n        <ListItem>\n          <Link to=\"/\">\n            <ListItemText primary=\"Home\" />\n          </Link>\n        </ListItem>\n        <ListItem>\n          <Link to=\"/stakeholder\" data-hook=\"nav-stakeholder\">\n            <ListItemText primary=\"Stakeholder\" />\n          </Link>\n        </ListItem>\n        <ListItem>\n          <Link to=\"/guardian\" data-hook=\"nav-guardian\">\n            <ListItemText primary=\"Guardian\" />\n          </Link>\n        </ListItem>\n      </List>\n    </Drawer>\n  );\n};\n\nexport default withStyles(styles)(Sidebar);\n","export default class MetamaskService {\n  enable() {\n    return ethereum\n      .enable()\n      .then(\n        (addresses: string[]) => addresses[0],\n        (err: any) => Promise.reject(err)\n      );\n  }\n  getCurrentAddress() {\n    return ethereum.selectedAddress;\n  }\n}\n","import Web3 from 'web3';\nimport * as OrbsContractsInfo from '../contracts-info';\nimport votingAbiJson from '../contracts/OrbsVoting.json';\nimport guardiansAbiJson from '../contracts/OrbsGuardians.json';\nimport validatorsAbiJson from '../contracts/OrbsValidators.json';\nimport validatorsRegistryAbiJson from '../contracts/OrbsValidatorsRegistry.json';\n\nconst web3 = new Web3(ethereum as any);\n\nexport const validatorsContractFactory = () => {\n  return new web3.eth.Contract(\n    validatorsAbiJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsValidators']['address']\n      : OrbsContractsInfo.OrbsValidators.address\n  );\n};\n\nexport const validatorsRegistryContractFactory = () => {\n  return new web3.eth.Contract(\n    validatorsRegistryAbiJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsValidatorsRegistry']['address']\n      : OrbsContractsInfo.OrbsValidatorsRegistry.address\n  );\n};\n\nexport const guardiansContractFactory = () => {\n  return new web3.eth.Contract(\n    guardiansAbiJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsGuardians']['address']\n      : OrbsContractsInfo.OrbsGuardians.address\n  );\n};\n\nexport const votingContractFactory = () => {\n  return new web3.eth.Contract(\n    votingAbiJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsVoting']['address']\n      : OrbsContractsInfo.OrbsVoting.address\n  );\n};\n","import './App.css';\nimport Main from '../Main';\nimport Header from '../Header';\nimport Sidebar from '../Sidebar';\nimport React, { Component } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport MetamaskService from '../../services/metamask';\nimport {\n  MuiThemeProvider,\n  createMuiTheme,\n  WithStyles,\n  withStyles\n} from '@material-ui/core/styles';\nimport {\n  validatorsContractFactory,\n  guardiansContractFactory,\n  votingContractFactory,\n  validatorsRegistryContractFactory\n} from '../../services/contracts';\n\ninterface IState {\n  validatorsContract: Object;\n  guardiansContract: Object;\n  votingContract: Object;\n  validatorsRegistryContract: Object;\n  metamaskService: MetamaskService;\n}\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: { main: '#09142c' },\n    secondary: { main: '#74f6fd' },\n    background: {\n      default: '#0a0f25',\n      paper: '#192a45'\n    }\n  },\n  typography: {\n    useNextVariants: true\n  }\n});\n\nconst styles = () => ({\n  root: {\n    display: 'flex'\n  }\n});\n\nclass App extends Component<WithStyles, IState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      validatorsContract: validatorsContractFactory(),\n      validatorsRegistryContract: validatorsRegistryContractFactory(),\n      guardiansContract: guardiansContractFactory(),\n      votingContract: votingContractFactory(),\n      metamaskService: new MetamaskService()\n    };\n  }\n  async componentDidMount() {\n    await this.state.metamaskService.enable();\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <MuiThemeProvider theme={theme}>\n          <CssBaseline />\n          <div className={classes.root}>\n            <Header />\n            <Sidebar />\n            <Main {...this.state} />\n          </div>\n        </MuiThemeProvider>\n      </Router>\n    );\n  }\n}\n\nexport default withStyles(styles)(App);\n","import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = {\n  OrbsValidatorsRegistry: {\n    address: '0xCf17bC0Ac479320Ac03706a8BF18E34C1cE8403D'\n  },\n  OrbsValidators: { address: '0x24C32CEbf7fdA82f001017F55A56dA810E5b8F4F' },\n  OrbsVoting: { address: '0x3D57294a0653C61ed64947d4152C0a495c273b8d' },\n  OrbsGuardians: { address: '0x5572103E6f01C3dF7fcc97455224Ebe1DA786481' }\n};\n"],"sourceRoot":""}