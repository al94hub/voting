{"version":3,"sources":["components/Home/index.tsx","services/vote-storage.ts","components/Guardrians/index.tsx","components/Stakeholders/index.tsx","components/Main/index.tsx","components/Header/index.tsx","components/Sidebar/index.tsx","services/metamask.ts","services/contracts.ts","components/App/App.tsx","index.tsx","contracts-info.js"],"names":["Home","react_default","a","createElement","Fragment","index_es","variant","color","noWrap","key","hasLocalStorageAccess","window","localStorage","save","addresses","from","ethereum","selectedAddress","setItem","concat","JSON","stringify","err","get","value","getItem","parse","withStyles","container","padding","_ref","validatorsContract","validatorsRegistryContract","votingContract","metamaskService","classes","_useState","useState","_useState2","Object","slicedToArray","validators","setValidators","getCurrentAddress","fetchValidators","_ref2","asyncToGenerator","regenerator_default","mark","_callee","validatorsInState","validatorsInfo","validatorsInStorage","resultValidators","wrap","_context","prev","next","methods","getValidators","call","sent","Promise","all","map","address","getValidatorData","reduce","acc","currAddress","idx","checked","name","url","forEach","undefined","stop","apply","this","arguments","commitVote","_ref3","_callee2","stagedValidators","receipt","_context2","keys","filter","vote","send","console","log","useEffect","className","control","defaultChecked","onChange","toggleCheck","label","Link_default","href","target","rel","Button_default","onClick","guardiansContract","candidate","setCandidate","_useState3","_useState4","guardians","setGuardians","fetchGuardians","details","guardiansStateObject","getGuardians","getGuardianData","curr","delegate","_","val","data-testid","theme","content","flexGrow","spacing","unit","toolbar","mixins","Route","exact","path","component","props","Stakeholders","assign","Guardrians","appBar","zIndex","drawer","AppBar_default","position","Toolbar_default","Typography_default","width","flexShrink","drawerPaper","Drawer_default","paper","List_default","ListItem_default","es_Link","to","ListItemText_default","primary","data-hook","MetamaskService","enable","then","reject","web3","Web3","validatorsContractFactory","eth","Contract","validatorsAbiJson","abi","OrbsContractsInfo","validatorsRegistryContractFactory","validatorsRegistryAbiJson","guardiansContractFactory","guardiansAbiJson","votingContractFactory","votingAbiJson","createMuiTheme","palette","type","main","secondary","background","default","typography","useNextVariants","App","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","state","BrowserRouter","basename","process","styles","CssBaseline_default","root","components_Header","components_Sidebar","components_Main","Component","display","ReactDOM","render","components_App_App","document","getElementById","module","exports","Migrations","OrbsGuardians","OrbsValidators","OrbsValidatorsRegistry","OrbsVoting"],"mappings":"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","file":"static/js/main.a5e3440a.chunk.js","sourcesContent":["import React from 'react';\nimport { Typography } from '@material-ui/core';\n\nconst Home = () => {\n  return (\n    <>\n      <Typography variant=\"h3\" color=\"textPrimary\" noWrap>\n        Welcome to Orbs Voting\n      </Typography>\n    </>\n  );\n};\n\nexport default Home;\n","const key = '_ORBS_VOTING_HISTORY_';\n\nconst hasLocalStorageAccess = () => {\n  return !!window.localStorage;\n};\n\nexport const save = (addresses: string[]): boolean => {\n  const from = ethereum.selectedAddress;\n  if (!hasLocalStorageAccess()) {\n    return false;\n  }\n  try {\n    window.localStorage.setItem(`${key}${from}`, JSON.stringify(addresses));\n    return true;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport const get = (): string[] => {\n  const from = ethereum.selectedAddress;\n  if (!hasLocalStorageAccess) {\n    return [];\n  }\n  try {\n    const value = window.localStorage.getItem(`${key}${from}`);\n    if (value) {\n      return JSON.parse(value);\n    } else {\n      return [];\n    }\n  } catch (err) {\n    return [];\n  }\n};\n","import Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport React, { useEffect, useState } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { get, save } from '../../services/vote-storage';\nimport {\n  Typography,\n  FormControl,\n  FormGroup,\n  Checkbox,\n  FormControlLabel\n} from '@material-ui/core';\n\nconst styles = () => ({\n  container: {\n    padding: '15px'\n  }\n});\n\nconst GuardianPage = ({\n  validatorsContract,\n  validatorsRegistryContract,\n  votingContract,\n  metamaskService,\n  classes\n}) => {\n  const [validators, setValidators] = useState({} as {\n    [address: string]: { checked: boolean; name: string; url: string };\n  });\n\n  const from = metamaskService.getCurrentAddress();\n\n  const fetchValidators = async () => {\n    let validatorsInState = await validatorsContract.methods\n      .getValidators()\n      .call({ from });\n\n    const validatorsInfo = await Promise.all(\n      validatorsInState.map(address =>\n        validatorsRegistryContract.methods\n          .getValidatorData(address)\n          .call({ from })\n      )\n    );\n\n    const validatorsInStorage = get();\n\n    const resultValidators = validatorsInState.reduce(\n      (acc, currAddress, idx) => {\n        acc[currAddress] = {\n          checked: false,\n          name: validatorsInfo[idx]['name'],\n          url: validatorsInfo[idx]['website']\n        };\n        return acc;\n      },\n      {}\n    );\n\n    validatorsInStorage.forEach(address => {\n      if (resultValidators[address] !== undefined) {\n        resultValidators[address].checked = true;\n      }\n    });\n    setValidators(resultValidators);\n  };\n\n  const commitVote = async () => {\n    const stagedValidators = Object.keys(validators).filter(\n      address => validators[address].checked\n    );\n    const receipt = await votingContract.methods\n      .vote(stagedValidators)\n      .send({ from });\n    save(stagedValidators);\n    console.log(receipt);\n  };\n\n  const toggleCheck = (address: string) => {\n    validators[address].checked = !validators[address].checked;\n  };\n\n  useEffect(() => {\n    fetchValidators();\n  }, []);\n\n  return (\n    <div className={classes.container}>\n      <Typography variant=\"h6\" color=\"textPrimary\" noWrap>\n        Here you can vote for a validators\n      </Typography>\n      <FormControl>\n        <FormGroup>\n          {Object.keys(validators) &&\n            Object.keys(validators).map(address => (\n              <FormControlLabel\n                key={address}\n                value={address}\n                control={\n                  <Checkbox\n                    value={address}\n                    defaultChecked={validators[address].checked}\n                    onChange={() => toggleCheck(address)}\n                  />\n                }\n                label={\n                  <Link\n                    href={validators[address].url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    color=\"secondary\"\n                    variant=\"body1\"\n                  >\n                    {validators[address].name}\n                  </Link>\n                }\n              />\n            ))}\n        </FormGroup>\n        <Button onClick={commitVote} variant=\"outlined\" color=\"secondary\">\n          Vote\n        </Button>\n      </FormControl>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(GuardianPage);\n","import Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport React, { useState, useEffect } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n  FormControl,\n  RadioGroup,\n  Radio,\n  FormControlLabel\n} from '@material-ui/core';\n\nconst styles = () => ({\n  container: {\n    padding: '15px'\n  }\n});\n\nconst StakeholderPage = ({\n  guardiansContract,\n  votingContract,\n  metamaskService,\n  classes\n}) => {\n  const from = metamaskService.getCurrentAddress();\n\n  const [candidate, setCandidate] = useState('');\n  const [guardians, setGuardians] = useState({} as {\n    [address: string]: { name: string; url: string };\n  });\n\n  const fetchGuardians = async () => {\n    const addresses = await guardiansContract.methods\n      .getGuardians(0, 100)\n      .call({ from });\n    const details = await Promise.all(\n      addresses.map(address =>\n        guardiansContract.methods.getGuardianData(address).call({ from })\n      )\n    );\n    const guardiansStateObject = addresses.reduce((acc, curr, idx) => {\n      acc[curr] = {\n        name: details[idx]['name'],\n        url: details[idx]['website']\n      };\n      return acc;\n    }, {});\n    setGuardians(guardiansStateObject);\n  };\n\n  useEffect(() => {\n    fetchGuardians();\n  }, []);\n\n  const delegate = async () => {\n    const receipt = await votingContract.methods\n      .delegate(candidate)\n      .send({ from });\n    console.log(receipt);\n  };\n\n  return (\n    <div className={classes.container}>\n      <Typography variant=\"h6\" color=\"textPrimary\" noWrap>\n        Here you can delegate your vote to somebody else\n      </Typography>\n      <FormControl>\n        <RadioGroup onChange={(_, val) => setCandidate(val)}>\n          {Object.keys(guardians) &&\n            Object.keys(guardians).map(address => (\n              <FormControlLabel\n                key={address}\n                value={address}\n                control={<Radio data-testid={`guardian-${address}-radio`} />}\n                label={\n                  <Link\n                    data-testid={`guardian-${address}-label`}\n                    href={guardians[address].url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    color=\"secondary\"\n                    variant=\"body1\"\n                  >\n                    {guardians[address].name}\n                  </Link>\n                }\n              />\n            ))}\n        </RadioGroup>\n        <Button\n          data-testid={`delegate-button`}\n          onClick={delegate}\n          variant=\"outlined\"\n          color=\"secondary\"\n        >\n          Delegate\n        </Button>\n      </FormControl>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(StakeholderPage);\n","import React from 'react';\nimport Home from '../Home';\nimport GuardianPage from '../Guardrians';\nimport StakeholderPage from '../Stakeholders';\nimport { Route, RouteProps } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing.unit * 3\n  },\n  toolbar: theme.mixins.toolbar\n});\n\nconst Main = ({\n  votingContract,\n  metamaskService,\n  guardiansContract,\n  validatorsContract,\n  validatorsRegistryContract,\n  classes\n}) => {\n  return (\n    <main>\n      <div className={classes.toolbar} />\n      <Route exact path=\"/\" component={Home} />\n      <Route\n        path=\"/stakeholder\"\n        component={(props: RouteProps) => (\n          <StakeholderPage\n            {...props}\n            votingContract={votingContract}\n            metamaskService={metamaskService}\n            guardiansContract={guardiansContract}\n          />\n        )}\n      />\n      <Route\n        path=\"/guardian\"\n        component={(props: RouteProps) => (\n          <GuardianPage\n            {...props}\n            validatorsContract={validatorsContract}\n            validatorsRegistryContract={validatorsRegistryContract}\n            votingContract={votingContract}\n            metamaskService={metamaskService}\n          />\n        )}\n      />\n    </main>\n  );\n};\n\nexport default withStyles(styles)(Main);\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  }\n});\n\nconst Header = ({ classes }) => {\n  return (\n    <AppBar position=\"fixed\" className={classes.appBar}>\n      <Toolbar>\n        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n          Orbs.com Voting\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default withStyles(styles)(Header);\n","import React from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Link } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  toolbar: theme.mixins.toolbar\n});\n\nconst Sidebar = ({ classes }) => {\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"permanent\"\n      classes={{\n        paper: classes.drawerPaper\n      }}\n    >\n      <div className={classes.toolbar} />\n      <List>\n        <ListItem>\n          <Link to=\"/\">\n            <ListItemText primary=\"Home\" />\n          </Link>\n        </ListItem>\n        <ListItem>\n          <Link to=\"/stakeholder\" data-hook=\"nav-stakeholder\">\n            <ListItemText primary=\"Stakeholder\" />\n          </Link>\n        </ListItem>\n        <ListItem>\n          <Link to=\"/guardian\" data-hook=\"nav-guardian\">\n            <ListItemText primary=\"Guardian\" />\n          </Link>\n        </ListItem>\n      </List>\n    </Drawer>\n  );\n};\n\nexport default withStyles(styles)(Sidebar);\n","export default class MetamaskService {\n  enable() {\n    return ethereum\n      .enable()\n      .then(\n        (addresses: string[]) => addresses[0],\n        (err: any) => Promise.reject(err)\n      );\n  }\n  getCurrentAddress() {\n    return ethereum.selectedAddress;\n  }\n}\n","import Web3 from 'web3';\nimport * as OrbsContractsInfo from '../contracts-info';\nimport votingAbiJson from '../contracts/OrbsVoting.json';\nimport guardiansAbiJson from '../contracts/OrbsGuardians.json';\nimport validatorsAbiJson from '../contracts/OrbsValidators.json';\nimport validatorsRegistryAbiJson from '../contracts/OrbsValidatorsRegistry.json';\n\nconst web3 = new Web3(ethereum as any);\n\nexport const validatorsContractFactory = () => {\n  return new web3.eth.Contract(\n    validatorsAbiJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsValidators']['address']\n      : OrbsContractsInfo.OrbsValidators.address\n  );\n};\n\nexport const validatorsRegistryContractFactory = () => {\n  return new web3.eth.Contract(\n    validatorsRegistryAbiJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsValidatorsRegistry']['address']\n      : OrbsContractsInfo.OrbsValidatorsRegistry.address\n  );\n};\n\nexport const guardiansContractFactory = () => {\n  return new web3.eth.Contract(\n    guardiansAbiJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsGuardians']['address']\n      : OrbsContractsInfo.OrbsGuardians.address\n  );\n};\n\nexport const votingContractFactory = () => {\n  return new web3.eth.Contract(\n    votingAbiJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsVoting']['address']\n      : OrbsContractsInfo.OrbsVoting.address\n  );\n};\n","import './App.css';\nimport Main from '../Main';\nimport Header from '../Header';\nimport Sidebar from '../Sidebar';\nimport React, { Component } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport MetamaskService from '../../services/metamask';\nimport {\n  MuiThemeProvider,\n  createMuiTheme,\n  WithStyles,\n  withStyles\n} from '@material-ui/core/styles';\nimport {\n  validatorsContractFactory,\n  guardiansContractFactory,\n  votingContractFactory,\n  validatorsRegistryContractFactory\n} from '../../services/contracts';\n\ninterface IState {\n  validatorsContract: Object;\n  guardiansContract: Object;\n  votingContract: Object;\n  validatorsRegistryContract: Object;\n  metamaskService: MetamaskService;\n}\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: { main: '#09142c' },\n    secondary: { main: '#74f6fd' },\n    background: {\n      default: '#0a0f25',\n      paper: '#192a45'\n    }\n  },\n  typography: {\n    useNextVariants: true\n  }\n});\n\nconst styles = () => ({\n  root: {\n    display: 'flex'\n  }\n});\n\nclass App extends Component<WithStyles, IState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      validatorsContract: validatorsContractFactory(),\n      validatorsRegistryContract: validatorsRegistryContractFactory(),\n      guardiansContract: guardiansContractFactory(),\n      votingContract: votingContractFactory(),\n      metamaskService: new MetamaskService()\n    };\n  }\n  async componentDidMount() {\n    await this.state.metamaskService.enable();\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <MuiThemeProvider theme={theme}>\n          <CssBaseline />\n          <div className={classes.root}>\n            <Header />\n            <Sidebar />\n            <Main {...this.state} />\n          </div>\n        </MuiThemeProvider>\n      </Router>\n    );\n  }\n}\n\nexport default withStyles(styles)(App);\n","import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = {\n  Migrations: { address: '0x3eE967f8D5256E4F70E03F1F83b9Fa973921d7c9' },\n  OrbsGuardians: { address: '0x969C3547537d439581BFfc9d1138CB29828ef82A' },\n  OrbsValidators: { address: '0x086e4b8002Fc38b6b2dfBAA88E0eE020d62bd737' },\n  OrbsValidatorsRegistry: {\n    address: '0x65090cf82F3C87426D8E8B030b3b460A129F2594'\n  },\n  OrbsVoting: { address: '0xB62E0e3e154fabEB375E036E12D5fEb15967a253' }\n};\n"],"sourceRoot":""}